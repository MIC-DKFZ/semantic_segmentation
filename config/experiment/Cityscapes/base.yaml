# @package _global_

# Define which Dataset and which augmentation pipeline to use
defaults:
  - override /augmentation@augmentation.train: scale_crop_brightness_contrast_hflip #scale_crop_hflip
  - override /dataset: Cityscapes/base

# Configure the augmentation pipeline
augmentation_cfg:
  scale_limit: [-0.5, 1.0]
  crop_size: [512, 1024]
  mean: [ 0.485, 0.456, 0.406 ]
  std: [ 0.229, 0.224, 0.225 ]
  N: 3
  M: 3

#Hyperparameters for Cityscapes Dataset
batch_size: 12                   # batch size per gpu for training
val_batch_size: 6 #${batch_size}   # batch size per gpu for validation
epochs: 484                     # number of epochs
lr: 0.01                        # learning rate for training (0.01445439770745928)
momentum: 0.9                   # momentum for optimizer
weight_decay: 0.0005            # wd for optimizer
loss:
  function: [ "wCE", "wCE", "wCE", "wCE"]     # list of lossfunctions
  val_function: [ "wCE", "wCE", "wCE", "wCE"]     # list of lossfunctions
  weight:   [1.0, 0.4, 0.05, 0.05]            # corresponding weights for each loss function



#hrnet
#MODEL:        hrnet         OCR         MSOCR
#steps:        120K          40K         65K
#epochs:       484           108         175
#lr:           0.01          0.01        0.01
#batchsize:    12            8           8
#cropping:     512,1024      769,769     2048,1024
#scaling:      0.5,2         0.5,2       0.5,2
#hflip:        True          True        True
#brightness:   ---           -10,10      ---
#gaussian blur: ---          ---         True
#color aug:    ---            ---        True
#momentum:     0.9           0.9         0.9
#wd:           0.0005        0.0005      0.0005
#power:        0.9           0.9         2.0
#
## OCR
#cropping: 769,769
#scaling: 05,2
#hfilp:
#lr: 0.01
#40K steps
#brightness jitter: -10,10
#batch_size: 8